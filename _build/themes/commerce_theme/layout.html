{% extends "sphinx_rtd_theme/layout.html" %}
{% set css_files = css_files + ['_static/pygments.css'] %}
{% block sidebartitle %}
{% if logo and theme_logo_only %}
  <a href="/">
{% else %}
  <a href="/" class="icon icon-home"> {{ project }}
{% endif %}

{% if logo %}
  {# Not strictly valid HTML, but it's the only way to display/scale it properly, without weird scripting or heaps of work #}
  <img src="{{ pathto('_static/' + logo, 1) }}" class="logo" />
{% endif %}
</a>
{% include "searchbox.html" %}
{% endblock %}

{% block menu %}
  {% set toctree = toctree(maxdepth=-1, collapse=False, includehidden=True) %}
  {% if toctree %}
      {{ toctree }}
  {% else %}
      <!-- Local TOC -->
      <div class="local-toc">{{ toc }}</div>
  {% endif %}
{% endblock %}
